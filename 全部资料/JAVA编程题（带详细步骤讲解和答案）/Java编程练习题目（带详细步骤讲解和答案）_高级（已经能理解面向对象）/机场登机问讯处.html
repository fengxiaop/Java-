<!DOCTYPE html>
<!-- saved from url=(0071)http://www.csgmooc.com/01712/teacher/practicalCenter/practicalPractical -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!--<base href="http://www.csgmooc.com:80/01712/">--><base href=".">

  	<title>学吧在线-实训步骤</title>
     <meta name="renderer" content="webkit">
	 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	 <meta name="description" content="">
    <meta name="viewport" content="width=device-width, user-scalable=no,initial-scale=1.0;">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	<!--
	<link rel="stylesheet" type="text/css" href="styles.css">
	-->
		   <!-- Main Style Sheet -->
		    <link rel="stylesheet" href="./机场登机问讯处_files/main.css">
		    <link rel="stylesheet" href="./机场登机问讯处_files/reset.css">
		    <link href="./机场登机问讯处_files/photoswipe.css" rel="stylesheet">
		    <link href="./机场登机问讯处_files/default-skin.css" rel="stylesheet">
		   
		    <link rel="stylesheet" type="text/css" href="./机场登机问讯处_files/animate.css">
  			<link rel="stylesheet" type="text/css" href="./机场登机问讯处_files/buttons.css">
  			<style type="text/css">
          	img {
                max-width: 100%;
              }
    
    		</style>
		    <!-- Respond.js for IE 8 or less only -->
		    <script>window.jQuery || document.write('<script src="commjs/jquery-1.9.1.min.js"><\/script>')</script><script src="./机场登机问讯处_files/jquery-1.9.1.min.js"></script>
		    <script src="./机场登机问讯处_files/plugins.js"></script>
		    <script src="./机场登机问讯处_files/photoswipe.min.js"></script>
		    <script src="./机场登机问讯处_files/photoswipe-ui-default.min.js"></script>
		    <script src="./机场登机问讯处_files/jquery.noty.packaged.min.js" type="text/javascript"></script>
  			<script src="./机场登机问讯处_files/notify.js" type="text/javascript"></script>
		    <script type="text/javascript" src="./机场登机问讯处_files/jquery.qrcode-0.12.0.min.js"></script>
		    
		  <script type="text/javascript">
		  
		  var body_wid = screen.width;
		  
		  function toBack(taskid){
		  	var t_form = $("<form action='teacher/practicalCenter/videolearn' name='taskForm' method='post'>"+
		     		 "<input type='hidden' name='taskid' value='"+taskid+"'/>" +
		     		 "</form>");
		  	$("body").append(t_form);
		  	$("form[name='taskForm']").submit();   
		  }
		  
		   function toexBack(experimentid){
		  	var t_form = $("<form action='teacher/practicalCenter/videolearn' name='taskForm' method='post'>"+
		  			 "<input type='hidden' name='taskid' value='0'/>" +
		     		 "<input type='hidden' name='experimentid' value='"+experimentid+"' />" +
		     		 "<input type='hidden' name='courseid' value="+''+" >" +
		     		 "</form>");
		  	$("body").append(t_form);
		  	$("form[name='taskForm']").submit();   
		  }
		  
		  //点击知识点和答案，页面跳转到其所在div事件
			function onScoll(obj) {
			    $("html,body").stop(true);
			    $("html,body").animate({scrollTop: $(obj).offset().top}, 1000);
			}
		  
		  $(function(){
		  		
				$("#warning").click(function(){
					
					mNotify.toast("warning","无可用虚机，请联系供应商获取虚机授权。");
				
				});
	    	//为 场景任务 第一个<li>添加选中样式
	    	
	       //场景任务
	    	$(".p-about-knowloge").click(function(){
	    	   var vi=$(this).attr("vi");
	            if($(this).find("i").hasClass("i-border-down")){
	                $(this).find("i").removeClass("i-border-down").addClass("i-border-up");
	            }else{
	                $(this).find("i").removeClass("i-border-up").addClass("i-border-down");
	               
	    	    $("#startstudy"+vi+" a").remove();
	    		var taskid=$(this).attr("taskid");
	    		var experimentid=$(this).attr("experimentid");
	    		if(typeof(taskid)!="undefined"){
	    		 $("#knowledgelist"+vi+" li").remove();
	    		var url="teacher/practicalCenter/loadChapter";
	    		var args={"taskid":taskid};
	    		$.getJSON(url,args,function(data){
	    		
	    		if(data.tklist.length>0){
	    		$.each(data.tklist,function(i,k){
	    			$("#knowledgelist"+vi).append("<li><a href='javascript:void(0)'>"+k.knowledge.name+"<span class='pull-right'>"+numberToTime(k.knowledge.videolen)+"</span></a></li>");
	    			
	    		   });
	    		
	    		$("#startstudy"+vi).append("<a class='p-look-answer-see p-buttn btn-blue' href='javascript:toBack("+taskid+")'  type='button'  style='border-radius: 5px;'>开始学习</a>");
	    		}
	    	});
	    		}
	    		   if(typeof(experimentid)!="undefined"){
	    		 $("#eknowledgelist li").remove();
	    		var url="teacher/practicalCenter/loadKnowledgeByExperiment";
	    		var args={"experimentid":experimentid};
	    		$.getJSON(url,args,function(data){
	    		
	    		if(data.eklist.length>0){
	    		$.each(data.eklist,function(i,k){
	    			$("#eknowledgelist").append("<li><a href='javascript:void(0)'>"+k.knowledge.name+"<span class='pull-right'>"+numberToTime(k.knowledge.videolen)+"</span></a></li>");
	    			
	    		   });
	    		
	    		$("#startstudy"+vi).append("<a class='p-look-answer-see p-buttn btn-blue' href='javascript:toexBack("+experimentid+")'  type='button'  style='border-radius: 5px;'>开始学习</a>");
	    		}
	    		});
	    		}
	    		
	    		
	    
	            }
	            $(this).next().find("i").removeClass("i-border-down").addClass("i-border-up");
	            $("#practical-answer" + vi).css("display","none");
	            $("#practical-knowledge" + vi).slideToggle(500);
	            
			 	onScoll("#practical-knowledge" + vi);//1.29添加
	    	
	     });
	     //查看答案
	         $(".p-look-answer-see").click(function(){

	        var vi=$(this).attr("vi");

	        if($(this).find("i").hasClass("i-border-down")){
	            $(this).find("i").removeClass("i-border-down").addClass("i-border-up");
	        }else{
	            $(this).find("i").removeClass("i-border-up").addClass("i-border-down");
	        }
	        $(this).prev().find("i").removeClass("i-border-down").addClass("i-border-up");
	        $("#practical-knowledge" + vi).css("display","none");
	        $("#practical-answer" + vi).fadeToggle(500);
	        
	         onScoll("#practical-answer" + vi);//1.29添加
	    }); 

	        
	     var numberToTime=function(number){
	     var HOUR_MILLS = 60*60*1000;
	     var MIN_MILLS = 60*1000;
	     var SEN_MILLS = 1000;
	   
	         var total_time = number*1000;
				
				var show_hour = parseInt(total_time / HOUR_MILLS);
			    var show_min = parseInt((total_time - (show_hour*HOUR_MILLS)) / MIN_MILLS);
			    var show_sen = parseInt((total_time - (show_hour*HOUR_MILLS + show_min*MIN_MILLS)) / SEN_MILLS);
				
			    var time = pad(show_hour,2)+":"+pad(show_min,2)+":"+pad(show_sen,2);
			   
			    return time;
	     }
	 
	   });
    </script>
    
    <style type="text/css">
    	.history {
   	 		color: #fff !important;
    		margin-right: 10px
		}

		.history_img {
   			 margin-top: 13px;
    		 margin-right: 5px;
		}
    </style>
    
  </head>
  
 <body class="homepage" data-spy="scroll" data-target=".navbar" style="overflow-y:scroll;">
<!--[if lte IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to
    improve your experience.</p>
<![endif]-->
  <header role="header" style="height: 48px; margin-right: 0; padding-right: 0;">
      <nav role="navigation" class="navbar navbar-default navbar-fixed-top">
        <div class="container" style=" color: #ffffff">
            <div class="row">
                <div class="col-md-8 nam">
              		<div style="line-height: 50px">
                	<!--以下链接由服务端确定返回地址，不同的转入对应不同的页面转出-->
                	
                    
                    
                    <a href="javascript:history.go(-1)" class="history" id="back">
	                            <img src="./机场登机问讯处_files/back.png" class="history_img pull-left">
	                           	 返回
	                        </a>
                    <b>SE_JAVA_EXP_E047</b>
                      <!-- 适配二维码 -->
                       <!--  <script type="text/javascript" src="js/jquery.qrcode-0.12.0.min.js"></script> -->
					      <script>
					    jQuery(function(){
					    jQuery('#qrcode').qrcode({
						width   : 100,
						height  : 100,
						text	: "http://www.csgmooc.com:80/01712/mob/practicalCenter/scan?experimentid=50"					});
					});
					</script>
                    <!-- 结束 -->
                   
                    
            	</div>
                </div>
                  <div class="col-md-2 pull-right ">
                      <!-- <button class="p-buttn btn-blue resul" style="width: 135px; border-radius: 5px; box-shadow: none"><img src="img/p-submit-icon.png" style="margin-right: 10px;margin-top: -7px;">提交结果</button><span class="glyphicon glyphicon-th-list" style='color:#fff'></span> -->
                      <span class="ioc_list" style="background:#fff;color:#fff;width:20px;height:20px;background:url(&quot;practical/img/ioc_list.png&quot;);margin-top:15px;cursor:pointer"></span>
                  </div>
            </div><!--/.row-->
        </div><!--/.container -->
      </nav>
  </header>
<!--/.header-->
<input type="hidden" id="nums" value="0">
<main role="main">
    <div class="container">
        <div class="practical">
            <div class="row">
                <div class="col-md-3 col-sm-3">
                    <section class="practical-left">
                        <div class="p-left-list-fixed">
                            <!-- <div class="p-enter">
                              	<a href="javascript:void(0)" id="warning"> <span class="icon fa fa-desktop" style="margin-right: 10px;"></span > 进入虚拟机( Q ) <span
                                        class="icon fa fa-play " style="margin-left: 70px;"></span>
                                </a>
                                </div> -->
                               <div class="p-left-list">
                                
                                <!--/.p-precondition-->
                                
                                
                                 <div class="p-precondition" style="display: none">
                                    <ul>
                                        <li class="p-precondition-active" style="border-radius: 5px 5px 0 0;"><a href="http://www.csgmooc.com/01712/#"> <span>&nbsp;</span><i style="margin-right: 5px;">+</i>前置条件</a></li>
                     
                                    </ul>
                                </div><!--/.p-precondition-->
                                 <div class="p_progress">
                                    <ul>
                                        <li liflag="0" class="p_progress_active"><a href="javascript:void(0)"><span>&nbsp;</span>实验任务1</a></li>
                                       
                                        <li><a href="javascript:void(0)"><span>&nbsp;</span> 完成效果预览</a></li>
                                    </ul>
                                </div><!--/.p_progress-->
                                
                                
                                
                                <div class="p-mobile-development">
                                    <a href="javascript:void(0)"> <span>&nbsp;</span><i></i>移动端开发步骤</a>
                                </div>
                            </div>
                            <!--/.p-left-list-->
                        </div>
                        <!--p-left-list-fixed-->
                    </section>
                    <!--/.practical-left-->
                </div>
                
                <div class="col-md-9" id="showtasks">
                   
                    <!--/.p-task01-->
                    <!-- 场景任务 -->
                    
                    
                    <!-- 实验案例 -->
                    
                      <section class="practical-right p-task" id="taskli0" style="display: block">
                        <h3><!-- 1.25 update start-->
                            <!--<span>&nbsp;</span>-->
                            <span class="border">&nbsp;</span>
                            <!-- 1.25 update end-->16版.机场登机问讯处</h3>
							<!-- <p class="p_task_type"></p> -->
                       <!--  <p><i>任务类型：按要求写代码</i></p> -->

                        <div class="practical-right-cont">
                           <p style="line-height: 1.5em;"><span style="color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">1、实验要求</span></strong></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; 本实验要求：以登机问询为背景，体验套接字服务端和客户端的交互应用模式。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">1-1.&nbsp;业务说明：</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1-1.1. 本实验以实际生活中的登机问询为业务背景。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-1.2. 通常机场有乘客问询处，服务人员为乘客提供常规的资讯服务。&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-1.3. 本业务模拟简单问询业务：某航班在哪里登机。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-1.4. 服务人员根据航班班次给出相应的登机口结果信息。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-1.5. 本业务关键概念：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>1） 登机者（问询者），提出登机信息资讯方，即客户端；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2） 问询处（服务方），响应问询者服务方，即服务端；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp;&nbsp;</span>3） 航班信息：即问询有关内容，并需要服务方响应和反馈的内容。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp;1-2. 导入工程并配置环境：</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-2.1. 限制1. 创建实验工程，命名为：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">SE_JAVA_EXP_E047</span>；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-2.2. 限制2. 在实验工程中创建包，命名为：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment</span>；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-2.3. 限制3. 在实验工程中创建包，命名为：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment.service</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; </span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">1</span>-3.&nbsp;创建问讯处业务服务类：</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-3.1. 限制1. 在<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment.service</span>包中创建问询处服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp;</span>1） <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 0, 0);">DeskServer</span>须实现线程接口Runnable。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-3.2. 限制2. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>类创建属性，要求如下：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); background: rgb(192, 0, 0); padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">序号</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性权限</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性名称</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性类型</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性说明</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">1</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">private</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">socket</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">Socket</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">由服务端获取的客户端请求套接字连接</span></p></td></tr><tr><td colspan="5" valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">说明：无需为上述属性实现对应的setter/getter方法；</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-3.3. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>类创建1参构造器。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>1） 参数类型为Socket；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2） 在构造器内对用构造参数为套接字属性赋值。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-3.4. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>实现线程方法run，描述如下：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); background: rgb(192, 0, 0); padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">访问权限</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">方法名称</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">返回值</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">方法参数</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">参数说明</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">public</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">run</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">void</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">无</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">无</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">方法说明</span></p></td><td colspan="4" valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">本方法交由独立线程处理客户端请求，并给出处理响应。</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>本方法的业务逻辑实现要求如下：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp;&nbsp;</span>1） 从客户端套接字对象中获取请求输出流对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 从客户端套接字对象中获取请求输入流对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>3） 由服务端读取并解析客户端的请求输入流对象。解析结果如下：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>当输入流含有“CA”时，结果为"<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 112, 192);">乘客您好，国航在2楼9号登机口!\r</span>"；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>当输入流含有“CZ”时，结果为“<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 112, 192);">乘客您好，南航在1楼6号登机口!\r</span>”;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>当输入流含有“FM”时，结果为“<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 112, 192);">乘客您好，上航在2楼12号登机口! \r</span>”;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>当含有其他内容时，结果为“<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 112, 192);">乘客您好，抱歉，暂无您的航班登机信息!\r</span>”;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span></span>4） 服务端根据解析的结果，输出处理结果给客户端。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp; &nbsp; 1-4. 创建问询者业务类：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-4.1. 限制1. 在<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment.service</span>包中创建问询者业务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1）&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>须实现线程接口Runnable。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-4.2. 限制2. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>类创建属性，要求如下：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); background: rgb(192, 0, 0); padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">序号</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性权限</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性名称</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性类型</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px; color: rgb(255, 255, 255);">属性说明</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">1</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">private</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">socket</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">Socket</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">客户端连接服务端的请求套接字对象</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">2</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">private</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">askInfo</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">String</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">客户端向服务端发送的问询信息。</span></p></td></tr><tr><td colspan="5" valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">说明：1）无需为上述属性实现对应的setter/getter方法；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2）askInfo 为航班班次，定为： CA1893； CZ3590; FM9802;其他。</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-4.3. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>类创建2参构造器。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 参数分别对应客户端的请求套接字对象和问询信息。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 在构造器内完成对套接字属性和问询信息属性的赋值。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-4.4. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>实现线程接口方法，描述如下：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); background: rgb(192, 0, 0); padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">访问权限</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">方法名称</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">返回值</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">方法参数</span></p></td><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background: rgb(192, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; color: rgb(255, 255, 255); font-size: 14px;">参数说明</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">public</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">run</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">void</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">无</span></p></td><td valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">无</span></p></td></tr><tr><td valign="top" style="border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">方法说明</span></p></td><td colspan="4" valign="top" style="border-width: 1px; border-style: solid; border-color: rgb(0, 0, 0); padding: 0px 7px; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">本方法交由客户端独立线程向服务端发送请求，并获取响应结果。</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp; </span>本方法的业务逻辑实现要求如下：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>1） 从客户端套接字对象中获取请求输出流对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp;&nbsp;</span>2） 从客户端套接字对象中获取请求输入流对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>3） 客户端每次经由输出流对象，向服务端发送如下请求信息：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其一，CA1893：表示咨询国航登机口在哪里；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其二，CZ3590：表示咨询南航登机口在哪里；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其三，FM9802：表示咨询上航登机口在哪里；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其四，其他(如XS9882)，无法确定的信息。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>4） 由客户端对输出流进行解析，并输出解析结果。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp; 1-5. 模拟问询并显示问询结果：</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-5.1. 限制1.在<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment</span> 创建问询处启动服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">Server</span>。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 为Server类创建程序入口主方法：main；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 在主方法内创建服务端套接字对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>3） 通过轮询的方式侦听是否有客户端请求到达；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>4） 当请求到达时，创建独立问询处服务线程，独立处理客户端请求；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>5） 若无客户端请求到达，则继续轮询侦听。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-5.2. 限制2. 在<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment</span>创建问询启动服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">Clients</span>。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 为Clients类创建程序入口主方法：main；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 在主方法内模拟创建4个客户端套接字对象，并分别发送指定信息；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>3） 4个客户端发送的指定信息为：CA1893；CZ3590; FM9802；XS9882；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>4） 创建独立问询者线程，独立向服务端发送航班问询的请求。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 1</span>-5.3. 运行服务端主程序和客户问询主程序：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 先运行服务端主程序；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 而后运行客户端主程序。</span></p><p style="line-height: 1.5em;"><span style="color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">2、实现思路</span></strong></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp; &nbsp; 2-1. &nbsp;创建工程并配置环境。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp; &nbsp; 2-2. &nbsp;创建问询处业务服务类：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; 2-2.1. 在包<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment.service</span>中创建服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1）&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>实现了线程接口Runnable类；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 实现线程接口是为了支持多线程服务，以便提供并发服务。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-2.2. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>类创建客户端套接字私有属性：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 套接字属性变量： Socket <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 0, 0);">socket </span>= null;；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-2.3. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>类创建1参构造器：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 在构造器内为变量socket赋值：this.socket = 参数；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-2.4. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">DeskServer</span>实现线程接口方法run，其业务实现逻辑如下: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 定义两个变量：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>输入流变量：InputStream in = null ；代表客户发送给服务端的请求流；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span></span>输出流变量：OutputStream os = null ;代表服务端发给客户端的响应流；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 在run内应用try-catch语句，使用套接字对象中为上述变量赋值：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; word-break: break-all; background-color: rgb(238, 236, 225);"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp; </span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;">+</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">提示</span></strong></span><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-family: Consolas;"> {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">成功实现客户端</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">/</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">服务器连接后，获取输入输出流对象。</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os&nbsp;</span><span style="font-size: 14px; font-family: Consolas;">= </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getOutputStream();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getInputStream();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ie</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(0, 112, 192);">服务端处理客户端连接时异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ie</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3） 从获取的输入流对象in中读取并解析客户端的请求信息，并作如下实现：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其一，定义字节数组，存储从流中读取的内容，并转变字节数组为字符串：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp; </span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;">+</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//available()</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">方法返回的值是该</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">in</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">在不被阻塞的情况下一次可读到的数据长度</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">一般复杂网络情况下建议不要用该方法，建议固定值，如</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">1024byte=1kb</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">即可</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">为使训练有意义和简洁，可以直接使用该方法。因为是本机练习。</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[] </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.available()];</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">从输入流中读取数据并存入到字节数组</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; text-indent: 56px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;in</span><span style="font-size: 14px; text-indent: 56px; font-family: Consolas;">.read(</span><span style="font-size: 14px; text-indent: 56px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; text-indent: 56px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">把字节数组转换为可识别的请求信息字符串</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> String(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">).trim();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">在服务端控制台输出解析出的请求内容</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务端</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">前端咨询内容为</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">:"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>其二，定义字符串变量，并以对请求信息进行解析的结果为变量赋值：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">&nbsp; +</span></strong><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">服务端的解析结果变量</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">""</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">根据客户端发送的请求信息，由服务端给出不同响应内容；</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;if</span></strong><span style="font-size: 14px; font-family: Consolas;">(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.contains(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CA"</span><span style="font-size: 14px; font-family: Consolas;">)){</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，国航在</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">2</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">楼</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">9</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">号登机口</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;}</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">else</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">if</span></strong><span style="font-size: 14px; font-family: Consolas;">(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.contains(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CZ"</span><span style="font-size: 14px; font-family: Consolas;">)){</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，南航在</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">1</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">楼</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">6</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">号登机口</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;}</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">else</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">if</span></strong><span style="font-size: 14px; font-family: Consolas;">(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.contains(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"FM"</span><span style="font-size: 14px; font-family: Consolas;">)){</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，上航在</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">2</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">楼</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">12</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">号登机口</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;"> &nbsp;}</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">else</span></strong><span style="font-size: 14px; font-family: Consolas;">{</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，抱歉，暂无您的航班登机信息</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>4） 利用try-catch语句捕获3）中所抛出的异常并响应处理；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span> &nbsp;&nbsp;</span>5） 构建try-catch-finally语句,通过输出流对象向客户端输出解析结果：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; word-break: break-all; background-color: rgb(238, 236, 225);"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp;</span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;"> +</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp; &nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">对解析结果进行编码并通过输出流返回给客户端</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.write(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">.getBytes(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"UTF-8"</span><span style="font-size: 14px; font-family: Consolas;">));</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.flush();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">捕获异常并处理</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">客户端已关闭</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">,</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">等待重新连接</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());&nbsp; </span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;}</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">finally</span></strong><span style="font-size: 14px; font-family: Consolas;">{</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">使当前线程休眠</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">1</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">秒</span></span></p><p style="margin-top: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp; &nbsp;Thread.<em>sleep</em>(1000);</span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (InterruptedException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.printStackTrace();</span></span></p><p style="margin-top: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp; &nbsp;}</span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">注</span>：实验练习者可以对以上功能划分和封装，以私有方法的形式给run方法调用。</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp; &nbsp; 2-3. 创建问询者业务类：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-3.1. 在包<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment.service</span>中创建服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>实现了线程接口Runnable类；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp;</span>2） 实现线程接口是为了支持多线程服务，以便提供并发服务。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-3.2. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>类创建客户端私有属性：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp;&nbsp;</span>1） 套接字属性变量： Socket <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 0, 0);">socket</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(112, 48, 160);"> </span>= <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(112, 48, 160);">null</span>;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span> &nbsp; &nbsp;&nbsp;</span>2） 问询者问询内容变量：String <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 0, 0);">askInfo</span>。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-3.3. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>类创建2参构造器：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span> &nbsp; &nbsp;&nbsp;</span>1） 2个参数分别对应客户端连接服务端的套接字对象和问询信息；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span> &nbsp; &nbsp; &nbsp;&nbsp;</span>2） 在构造器内为私有属性变量赋值：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span> &nbsp; &nbsp;&nbsp;</span>this.socket = 参数套接字对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>this.askInfo = 参数问询信息。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-3.4. 为<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">AskClient</span>创建实现线程接口方法run，其描述如下:</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; </span>本方法的业务实现逻辑如下：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>1） 定义两个变量：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>输入流变量：InputStream in = null ；代表服务器发送给客户端的响应流；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>输出流变量：OutputStream os = null ;代表客户端发给服务端的请求流；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2） 应用try-catch语句，使用套接字对象中为上述变量赋值：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; word-break: break-all; background-color: rgb(238, 236, 225);"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp; </span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;">+</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">提示</span></strong></span><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {&nbsp; </span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os&nbsp;</span><span style="font-size: 14px; font-family: Consolas;">= </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getOutputStream();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getInputStream();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ie</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">建立与服务端连接时异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@</span><span style="font-size: 14px; font-family: 宋体; color: rgb(0, 112, 192);">：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ie</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;3） 建立try-catch语句块，并在块内用os向服务端发送问询信息：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>其一，拼接完整问询信息字符串；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>其二，把完整问询信息转换为UTF-8编码的字节数组；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>其三，利用输出流对象os向服务端发送问询信息。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">&nbsp; +</span></strong><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//Thread.currentThread().getName()</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">为模拟不同客户端的线程名</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;"> = &nbsp; Thread.<em>currentThread</em>().getName()+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">":</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">请问</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">["</span><span style="font-size: 14px; font-family: Consolas;">+askInfo+<span style="font-size: 14px; color: rgb(42, 0, 255);">"]</span></span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">在哪里登机？</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="text-indent: 14px; margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;os</span><span style="font-size: 14px; font-family: Consolas;">.write(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.getBytes(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"UTF-8"</span><span style="font-size: 14px; font-family: Consolas;">));</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">实现向服务端发送信息</span></span></p><p style="text-indent: 14px; margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;os</span><span style="font-size: 14px; font-family: Consolas;">.flush(); </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">强制输出流中所有缓冲的字节</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;&nbsp; </span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="text-indent: 7px; margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务端端已关闭或无法连接</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;4） 建立try-catch语句块，在块利用输入流对象获取服务端的处理结果：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>其一，创建字节数组对象，长度为1024；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>其二，用输入流对象in，读取输入流内容到字节数组；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>其三，把字节数组转换为字符串并输入。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; word-break: break-all; background-color: rgb(238, 236, 225);"><p style="margin-top: 10px;"><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">&nbsp; +</span></strong><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp;//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">引用关系，不要在此处关闭流</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[] </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[1024];</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.read(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(Thread.<em>currentThread</em>().getName()+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">咨询结果：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> String(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">).trim());</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">获取返回结果时异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}&nbsp;</span><span style="font-family: Consolas">&nbsp; &nbsp;&nbsp;</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>5） 在run方法的最后，关闭输入输出流以及套接字对象，释放资源：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><strong><span style="font-size:13px;font-family:&#39;微软雅黑&#39;,sans-serif">&nbsp; </span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">+</span></strong><strong><span style="font-size: 14px; font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">咨询者已咨询完毕。</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">关闭客户端连接异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span class="Apple-tab-span" style="white-space: pre; font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">注</span>：练习实验者可以对以上功能划分和封装，以私有方法的形式给run方法调用。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">&nbsp; &nbsp; 2-4. &nbsp;模拟问询并显示问询结果：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-4.1. 在包<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment</span> 中创建问询处启动服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">Server</span>；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-4.2. 在<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">Server</span>类中，创建程序主入口方法：main；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-4.3. 实现并启动服务端的问讯处业务服务：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>1） 在main方法中定义服务端套接字变量：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>服务端套接字变量：ServerSocket serverSocket = <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(112, 48, 160);">null</span>;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>2） 在main方法内指定服务端的端口号以及获取到客户端连接的计数器：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>int port = 9999;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>int counter = 0；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>3） 在main方法内，构建try-catch语句块，并在语句块内实现如下要求：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其一，构建服务端套接字对象；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span></span>其二，建立对客户端的轮询侦听循环；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其三，获得客户端的连接请求后，创建独立服务线程处理客户请求。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp;</span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;"> +</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">代码临摹&nbsp;</span></strong></span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp; &nbsp;// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">创建服务端套接字服务对象</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">serverSocket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> ServerSocket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">port</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp; &nbsp;// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">使用循环方式一直等待客户端的连接</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">while</span></strong><span style="font-size: 14px; font-family: Consolas;"> (</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">true</span></strong><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp; &nbsp; &nbsp;// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">侦听并获取客户端的套接请求</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp; &nbsp;Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">serverSocket</span><span style="font-size: 14px; font-family: Consolas;">.accept();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">已获取客户端连接</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;"> + </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp; &nbsp; &nbsp;// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">对获取到的客户端连接进行计数</span></span></p><p style="text-indent: 28px; margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;counter</span><span style="font-size: 14px; font-family: Consolas;">++;</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">&nbsp; &nbsp; &nbsp;// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">启动一个新的线程，接管与当前客户端的交互会话，实现对其独立处理</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp; &nbsp;</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> DeskServer(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;">), </span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">客户端</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@ "</span><span style="font-size: 14px; font-family: Consolas;"> + </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">counter</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="margin-top: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp; &nbsp;}</span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;} </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp;System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务器端出错</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……"</span><span style="font-size: 14px; font-family: Consolas;"> + </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;}</span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;2-4.4. 在包<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">cn.campsg.java.experiment</span>中创建问询处启动服务类：<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">Clients</span>；</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-4.5. 在<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(255, 0, 0);">Clients</span>类中，创建程序主入口方法：main；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2-4.6. 实现并启动客户端的问询者服务：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>1） 定义4个客户端套接字变量;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>2） 定义服务器的服务地址和端口：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>String srvIP = “127.0.0.1”；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>&nbsp; &nbsp;&nbsp;</span>int port = 9999;</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>3） 创建try-catch语句块，并在块内基于srvIP和port实现：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span></span>其一，定义4个套接字变量，并创建4个客户端套接字对象为其赋值：</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp; </span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;">+</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span><strong><span style="font-family: 微软雅黑, sans-serif;"></span></strong></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;Socket socket1</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;Socket socket2</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;Socket socket3</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">&nbsp;Socket socket4</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p></td></tr></tbody></table><p style="line-height: 1.5em; margin-top: 10px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>其二，为每个套接字对象创建独立问询线程并与服务端进行通讯：</span><br><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"></span></p><table align="center"><tbody><tr class="firstRow"><td valign="top" style="border-width: 1px; border-style: solid; border-color: windowtext; padding: 0px 7px; background-color: rgb(238, 236, 225); word-break: break-all;"><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-family: 微软雅黑, sans-serif;">&nbsp; </span></strong><span style="font-size: 14px; color: rgb(0, 176, 240);"><strong><span style="font-family: 微软雅黑, sans-serif;">+</span></strong><strong><span style="font-family: 微软雅黑, sans-serif;">代码临摹</span></strong></span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket1</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CA1893"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@CA1893"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket2</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CZ3590"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@CZ3590"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="margin-top: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket3</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"FM9802"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@FM9802"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="margin-top: 10px; margin-bottom: 10px;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">&nbsp;new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket4</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"XS9882"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@XS9882"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p></td></tr></tbody></table><p style="margin-top: 10px;"><strong><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">3、验证与测试</span></strong><br></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp; <span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);">3-1. &nbsp;运行问询处业务服务类：</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3-1.1. 在工程中定位服务端主类Server；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3-1.2. 右键点击Server类，依次选择：Run As-&gt;Java Application；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3-1.3. 运行程序，查看输出结果是否符合预期。</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px; color: rgb(0, 176, 240);"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"> &nbsp;&nbsp;</span>3-2. 运行问询者业务类：</span></span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3-2.1. 在工程中定位客户端主类Clients；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3-2.2. 右键点击Clients类，依次选择：Run As-&gt;Java Application；</span></p><p style="line-height: 1.5em;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;"><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span><span style="font-family: 微软雅黑, &quot;Microsoft YaHei&quot;; font-size: 14px;">&nbsp; &nbsp;&nbsp;</span>3-2.3. 运行程序，查看输出结果是否符合预期。</span></p><p><br></p>
                        </div>
                        <!--/.practical-right-cont-->
                        <div class="form-group practical-right-btn">
                            <a class="p-about-knowloge" id="experimenknowledge" experimentid="50" href="javascript:void(0)" vi="0">相关知识点<i class="i-border-up"></i></a>
                            
                            
                           <!-- 从电脑登录，显示答案 -->
                         
                          
                          	<a class="p-look-answer-see p-buttn btn-blue" type="button" href="javascript:void(0)" vi="0">查看答案<i class="i-border-down"></i></a>
                          
                          
                           
                           
					     
                        </div>
                        <!--/.practical-right-btn-->
                    </section>
       				  <div class="practical-right-toggle-knowlage" id="practical-knowledge0" style="display: none;">
                        <h3><span>&nbsp;</span>任务知识点</h3>
                        <ul id="eknowledgelist">
                          
                           
                        </ul>
                        <div class="practical-right-btn" id="startstudy0">
                       
                        </div>
                        <!--/.practical-right-btn-->
                    </div>
                    <!--/.practical-right-toggle-knowlage-->
                    <div unselectable="on" style="user-select: none; display: block;" onselectstart="return false;" class="practical-right-toggle-answer" id="practical-answer0">
                        <h3><!-- 1.25 update start-->
                            <!--<span>&nbsp;</span>-->
                            <span class="border">&nbsp;</span>
                            <!-- 1.25 update end-->
                            	任务答案</h3>

                        <div class="practical-right-answer-cont">
                            <p>
                                  </p><p style="margin-bottom: 10px;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">1.代码清单：cn.campsg.java.experiment.service.DeskServer.java</span></p><table><tbody><tr class="firstRow"><td width="560" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px; border-style: solid;"><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">/**</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">创建独立线程处理服务端套接字</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">(ServerSocket)</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">获取的客户套接字对象（</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">Socket</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">）</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">.</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">为拆分服务端的业务逻辑和功能单元，定义三个私有方法：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* 1.hasConnected()</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">：检测是否有客户端请求，并给出服务端连接响应；</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* 2.doRequest():</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">处理客户端发送来的请求；</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* 3.doResponse()</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">：根据请求处理结果，向客户端发送服务端的处理结果，即请求响应。</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">另外，通过私有方法，避免对</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">DeskServer</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">的错误调用。</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@author</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> SOLO <span style="font-size: 14px; text-decoration: underline;">Cui</span>.</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">class</span></strong><span style="font-size: 14px; font-family: Consolas;"> DeskServer </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">implements</span></strong><span style="font-size: 14px; font-family: Consolas;"> Runnable {</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;*&nbsp; </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">获取有效的连接客户端套接字</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> socket</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong><span style="font-size: 14px; font-family: Consolas;"> DeskServer(Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">this</span></strong><span style="font-size: 14px; font-family: Consolas;">.</span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">服务端线程和客户端线程成对通信：每客户端对应一个独立服务端线程来处理客户端请求。</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">功能包括：连接成功后服务端向客户端的响应、服务端处理客户端请求信息流、输出对请求信息流的处理。</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(100, 100, 100);">@Override</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> run() {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OutputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">建立</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">C/S</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">连接后的输入输出处理对象</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">,</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">获取服务端和客户端交互通道。</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp; = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getOutputStream();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getInputStream();</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ie</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务端处理客户端连接时异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ie</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">处理客户端发来的数据</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;"> = doRequest(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务端对客户端的请求已处理好完毕</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">,</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">将返回结果为：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">发送数据回客户端</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; doResponse(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">读取客户端请求数据</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> in</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@return</span></strong> <span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">请求处理结果</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong><span style="font-size: 14px; font-family: Consolas;"> String&nbsp; doRequest(InputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">){&nbsp;&nbsp;&nbsp; </span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">""</span><span style="font-size: 14px; font-family: Consolas;"> ; </span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;">{</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//available()</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">方法返回的值是该</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">in</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">在不被阻塞的情况下一次可以读取到的数据长度</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">一般复杂网络情况下建议不要用该该方法，建议固定值，如</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">1024byte=1kb</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">即可</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">为使训练有意义和简洁，可以直接使用该方法。因为是本机练习</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[] </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.available()];</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.read(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> String(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">).trim();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务端</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">前端咨询内容为</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">:"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">根据客户端发送的请求信息，由服务端处理不同的咨询内容：做出对应咨询响应。</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">if</span></strong><span style="font-size: 14px; font-family: Consolas;">(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.contains(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CA"</span><span style="font-size: 14px; font-family: Consolas;">)){</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，国航在</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">2</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">楼</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">9</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">号登机口</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">else</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">if</span></strong><span style="font-size: 14px; font-family: Consolas;">(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.contains(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CZ"</span><span style="font-size: 14px; font-family: Consolas;">)){</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，南航在</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">1</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">楼</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">6</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">号登机口</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">else</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">if</span></strong><span style="font-size: 14px; font-family: Consolas;">(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">.contains(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"FM"</span><span style="font-size: 14px; font-family: Consolas;">)){</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，上航在</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">2</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">楼</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">12</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">号登机口</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">else</span></strong><span style="font-size: 14px; font-family: Consolas;">{</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;">=</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">乘客您好，抱歉，暂无您的航班登机信息</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">!\r"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">获取客户端发送的信息时出错：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">return</span></strong> <span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">result</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">响应客户端连接</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> out</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@return</span></strong></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> doResponse(OutputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">,String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">response</span><span style="font-size: 14px; font-family: Consolas;">){</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">引用关系，不要在此处关闭流</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.write(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">response</span><span style="font-size: 14px; font-family: Consolas;">.getBytes(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"UTF-8"</span><span style="font-size: 14px; font-family: Consolas;">));</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.flush();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">客户端已关闭</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">,</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">等待重新连接</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">finally</span></strong><span style="font-size: 14px; font-family: Consolas;">{</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Thread.<em>sleep</em>(1000);</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (InterruptedException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.printStackTrace();</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">}</span></p></td></tr></tbody></table><p><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;"><br></span></p><p style="margin-bottom: 10px;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">2.代码清单：cn.campsg.java.experiment.service.AskClient.java</span></p><table><tbody><tr class="firstRow"><td width="560" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">/**</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">通过创建独立线程方式与服务端建立通讯连接。</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">为拆分业务逻辑和功能单元，定义三个私有方法：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* 1.hasConnected()</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">：检测连接服务端是否正常；</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* 2.doSend():</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">向服务端发送请求；</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* 3.doResult</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">：接收服务端返回结果。</span><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 127, 159);">&lt;br&gt;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@author</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> SOLO <span style="font-size: 14px; text-decoration: underline;">Cui</span>.</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">class</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">implements</span></strong><span style="font-size: 14px; font-family: Consolas;"> Runnable {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">客户端连接服务端的套接对象，也即为客户端到服务端的通道</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">客户端向服务端咨询的信息内容</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong><span style="font-size: 14px; font-family: Consolas;"> String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">askInfo</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;* </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> client </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">客户端连接对象</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> ask </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">问询内容</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;">,String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">this</span></strong><span style="font-size: 14px; font-family: Consolas;">.</span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">this</span></strong><span style="font-size: 14px; font-family: Consolas;">.</span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">askInfo</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">ask</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(100, 100, 100);">@Override</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> run() {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OutputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">out</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">正待连接后端服务</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">..."</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">out</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getOutputStream();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.getInputStream();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">建立与服务端连接时异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">向服务端发问询询信息</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; doSend(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">out</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">获取服务端返回信息</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; doResult(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">out</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">socket</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">咨询者已咨询完毕。</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">关闭客户端连接异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">发送数据到服务端</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> out</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@return</span></strong></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> doSend(OutputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">){</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">引用关系，不要在此处关闭流</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">line</span><span style="font-size: 14px; font-family: Consolas;"> = Thread.<em>currentThread</em>().getName()+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">":</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">请问</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">["</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">askInfo</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"]</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">在哪里登机？</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.write(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">line</span><span style="font-size: 14px; font-family: Consolas;">.getBytes(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"UTF-8"</span><span style="font-size: 14px; font-family: Consolas;">));</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">os</span><span style="font-size: 14px; font-family: Consolas;">.flush();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务端端已关闭或无法连接</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">/**</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">读取服务端返回的数据</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@param</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> in</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;&nbsp;&nbsp; &nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@return</span></strong></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">private</span></strong><span style="font-size: 14px; font-family: Consolas;">&nbsp; &nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> doResult(InputStream </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">){</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">引用关系，不要在此处关闭流</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[] </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">byte</span></strong><span style="font-size: 14px; font-family: Consolas;">[1024];</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">in</span><span style="font-size: 14px; font-family: Consolas;">.read(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(Thread.<em>currentThread</em>().getName()+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">咨询结果：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> String(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">bytes</span><span style="font-size: 14px; font-family: Consolas;">).trim());</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">获取返回结果时异常：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">}</span></p></td></tr></tbody></table><p><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;"><br></span></p><p style="margin-bottom: 10px;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">3.代码清单：cn.campsg.java.experiment.Server.java</span></p><table><tbody><tr class="firstRow"><td width="568" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">/**</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">模拟服务台，启动咨询服务。</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@author</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> SOLO <span style="font-size: 14px; text-decoration: underline;">Cui</span>.</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">class</span></strong><span style="font-size: 14px; font-family: Consolas;"> Server {</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong><span style="font-size: 14px; font-family: Consolas;"> Server() {</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">static</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> main(String[] </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">args</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServerSocket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">serverSocket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">启动咨询服务台</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">........"</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">int</span></strong> <span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">port</span><span style="font-size: 14px; font-family: Consolas;"> = 9999;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">int</span></strong> <span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">counter</span><span style="font-size: 14px; font-family: Consolas;"> = 0;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">serverSocket</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> ServerSocket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">port</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">使用循环方式一直等待客户端的连接</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">while</span></strong><span style="font-size: 14px; font-family: Consolas;"> (</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">true</span></strong><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">serverSocket</span><span style="font-size: 14px; font-family: Consolas;">.accept();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">已获取客户端连接</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@"</span><span style="font-size: 14px; font-family: Consolas;"> + </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">counter</span><span style="font-size: 14px; font-family: Consolas;">++;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">// </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">启动一个新的线程，接管与当前客户端的交互会话</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> DeskServer(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">client</span><span style="font-size: 14px; font-family: Consolas;">), </span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">客户端</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@ "</span><span style="font-size: 14px; font-family: Consolas;"> + </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">counter</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">服务器端出错</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……"</span><span style="font-size: 14px; font-family: Consolas;"> + </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">finally</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">serverSocket</span><span style="font-size: 14px; font-family: Consolas;">.close();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"----&gt; </span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">关闭服务器</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">……."</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.printStackTrace();</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">}</span></p></td></tr></tbody></table><p><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;"><br></span></p><p style="margin-bottom: 10px;"><span style="font-family: 微软雅黑, sans-serif; font-size: 14px;">4.代码清单：cn.campsg.java.experiment.Clients.java</span></p><table><tbody><tr class="firstRow"><td width="568" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px; border-style: solid; word-break: break-all;"><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">/**</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 95, 191);">模拟乘客向咨询服务台发起航班信息问询。</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);">&nbsp;* </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 159, 191);">@author</span></strong><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 95, 191);"> SOLO <span style="font-size: 14px; text-decoration: underline;">Cui</span></span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; color: rgb(63, 95, 191); font-size: 14px;">&nbsp;*/</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">class</span></strong><span style="font-size: 14px; font-family: Consolas;"> Clients {</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong><span style="font-size: 14px; font-family: Consolas;"> Clients() {</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">public</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">static</span></strong> <strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">void</span></strong><span style="font-size: 14px; font-family: Consolas;"> main(String[] </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">args</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; Socket </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket1</span><span style="font-size: 14px; font-family: Consolas;">=</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">, </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket2</span><span style="font-size: 14px; font-family: Consolas;">=</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;">, </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket3</span><span style="font-size: 14px; font-family: Consolas;">=</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;"> , </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket4</span><span style="font-size: 14px; font-family: Consolas;">=</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">null</span></strong><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; String </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;"> = </span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"127.0.0.1"</span><span style="font-size: 14px; font-family: Consolas;"> ;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">int</span></strong> <span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;"> = 9999;</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">try</span></strong><span style="font-size: 14px; font-family: Consolas;"> {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">国航：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">CA1893</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">；南航：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">CZ3590;</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">上航：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">FM9802;</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">其它</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">:</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">未知</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">//</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">模拟创建</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">4</span><span style="font-size: 14px; font-family: 宋体; color: rgb(63, 127, 95);">个问询者连接：分别创建</span><span style="font-size: 14px; font-family: Consolas; color: rgb(63, 127, 95);">socket</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket1</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket2</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket3</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket4</span><span style="font-size: 14px; font-family: Consolas;"> = </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Socket(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvIP</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">srvPort</span><span style="font-size: 14px; font-family: Consolas;">);</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket1</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CA1893"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@CA1893"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket2</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"CZ3590"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@CZ3590"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket3</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"FM9802"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@FM9802"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> Thread(</span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">new</span></strong><span style="font-size: 14px; font-family: Consolas;"> AskClient(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">socket4</span><span style="font-size: 14px; font-family: Consolas;">,</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"XS9882"</span><span style="font-size: 14px; font-family: Consolas;">),</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">问询者</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">@XS9882"</span><span style="font-size: 14px; font-family: Consolas;">).start();</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (UnknownHostException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">客户端连接失败：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span><strong><span style="font-size: 14px; font-family: Consolas; color: rgb(127, 0, 85);">catch</span></strong><span style="font-size: 14px; font-family: Consolas;"> (IOException </span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">) {</span></span></p><p style="line-height: 1.5em;"><span style="font-size: 14px;"><span style="font-size: 14px; font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><strong><em><span style="font-size: 14px; font-family: Consolas; color: rgb(0, 0, 192);">out</span></em></strong><span style="font-size: 14px; font-family: Consolas;">.println(</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">客户端连接失败</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">(I/O)</span><span style="font-size: 14px; font-family: 宋体; color: rgb(42, 0, 255);">：</span><span style="font-size: 14px; font-family: Consolas; color: rgb(42, 0, 255);">"</span><span style="font-size: 14px; font-family: Consolas;">+</span><span style="font-size: 14px; font-family: Consolas; color: rgb(106, 62, 62);">e</span><span style="font-size: 14px; font-family: Consolas;">.getMessage());</span></span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;&nbsp;&nbsp; }</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">&nbsp;</span></p><p style="line-height: 1.5em;"><span style="font-family: Consolas; font-size: 14px;">}</span></p></td></tr></tbody></table><p><span style="font-size:13px;font-family:&#39;微软雅黑&#39;,sans-serif">&nbsp;</span></p><p><br></p>
                            <p></p>
                        </div>

                    </div>
                    
                    <!--/.p-task04-->
                    <section class="practical-right p-task" id="preImage">
                        <h3><!-- 1.25 update start-->
                            <!--<span>&nbsp;</span>-->
                            <span class="border">&nbsp;</span>
                            <!-- 1.25 update end-->完成效果预览</h3>
                        <div class="practical-right-preview">
                 
					<img src="./机场登机问讯处_files/u_1479807011431.jpg" style=" cursor: url(practical/img/search.ico), auto" class="img-responsive">
				
				
                        </div>
                    </section>
                    <!--/.p-task05-->
                    <section class="practical-right p-task" id="mobile-development">
                        <h3><!-- 1.25 update start-->
                            <!--<span>&nbsp;</span>-->
                            <span class="border">&nbsp;</span>
                            <!-- 1.25 update end-->移动端开发步骤</h3>
                        <div class="practical-right-mobile">
                            <div id="qrcode" class="img-01 img-responsive"><canvas width="200" height="200"></canvas></div> 
                            <img src="./机场登机问讯处_files/p-mobile-01.png" class="img-02 img-responsive">
                        </div>
                    </section>
                </div>
                <!--/.col-md-9 col-sm-9-->
            </div>
            <!--/.row-->
        </div>
        <!--teacher-->
    </div>
    
     <!-- 1.29 add 手机自适应，左右箭头切换，此div效果只在移动端显示【开始】-->
    <div id="toggle_arrow">
        <!--
            菜单数vi的值：前置条件的list值 + （实验任务 + 完成效果预览）的list值
                         即：$(".p-precondition ul li").length + $(".p_progress ul li").length
            左边（left_arrow）vi的值为菜单数的最小值，默认为0，无需改变。
            右边（right_arrow）vi的值为菜单数的最大值，从后台取出。
        -->
        <div class="left_arrow" vi="0">
            <span class="left_arrow_ico">&nbsp;</span>
        </div>
        <div class="right_arrow" vi="3">
            <span class="right_arrow_ico">&nbsp;</span>
        </div>
    </div>
    <!-- 1.29 add 手机自适应，左右箭头切换，此div只在移动端显示【结束】-->
    
</main>
<!--2015.12.7新增-->
<div class="bg_practical"></div>
<!--bg_practical-->
<div class="bg_practical_preview">
    
			<img src="./机场登机问讯处_files/u_1479807011431.jpg">
	
	
</div>

<!--2016.4.19 添加（返回顶部功能）-->
<div class="backNav" style="display: none;">
    <span class="top_arrow"></span>
</div>

<!-- 1.25 add start-->
<!-- 手机图片放大弹出模态框【开始】 -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>
    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar" style="opacity:0;">
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pswp__loading-indicator">
                <div class="pswp__loading-indicator__line"></div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip">
                    <a href="http://www.csgmooc.com/01712/#" class="pswp__share--facebook"></a>
                    <a href="http://www.csgmooc.com/01712/#" class="pswp__share--twitter"></a>
                    <a href="http://www.csgmooc.com/01712/#" class="pswp__share--pinterest"></a>
                    <a href="http://www.csgmooc.com/01712/#" download="" class="pswp__share--download"></a>
                </div>
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<!-- 手机图片放大弹出模态框【结束】 -->
<!--手机图片放大【开始】-->
<script type="text/javascript">
    (function () {//获取图片原始尺寸
        // 读取尺寸大小
        var imgReady = (function () {
            var list = [], intervalId = null,
            // 用来执行队列
                    tick = function () {
                        var i = 0;
                        for (; i < list.length; i++) {
                            list[i].end ? list.splice(i--, 1) : list[i]();
                        }
                        ;
                        !list.length && stop();
                    },
            // 停止所有定时器队列
                    stop = function () {
                        clearInterval(intervalId);
                        intervalId = null;
                    };
            return function (url, ready, load, error) {
                var onready, width, height, newWidth, newHeight, img = new Image();
                img.src = url;
                // 如果图片被缓存，则直接返回缓存数据
                if (img.complete) {
                    ready.call(img);
                    load && load.call(img);
                    return;
                }
                ;
                width = img.width;
                height = img.height;
                img.onerror = function () {
                    error && error.call(img);
                    onready.end = true;
                    img = img.onload = img.onerror = null;
                };
                // 图片尺寸就绪
                onready = function () {
                    newWidth = img.width;
                    newHeight = img.height;
                    if (newWidth !== width || newHeight !== height || newWidth * newHeight > 1024) {
                        // 如果图片已经在其他地方加载可使用面积检测
                        ready.call(img);
                        onready.end = true;
                    }
                    ;
                };
                onready();
                // 完全加载完毕的事件
                img.onload = function () {
                    // onload在定时器时间差范围内可能比onready快
                    // 这里进行检查并保证onready优先执行
                    !onready.end && onready();
                    load && load.call(img);
                    // IE gif动画会循环执行onload，置空onload即可
                    img = img.onload = img.onerror = null;
                };
                // 加入队列中定期执行
                if (!onready.end) {
                    list.push(onready);
                    // 无论何时只允许出现一个定时器，减少浏览器性能损耗
                    if (intervalId === null) intervalId = setInterval(tick, 40);
                }
                ;
            };
        })();
    })();
</script>
<script src="./机场登机问讯处_files/initPhotoSwipeFromDOM.js"></script>
<!-- 初始化图片放大函数 -->
<script>initPhotoSwipeFromDOM('.gallery');</script>
<script type="text/javascript">
//  点击菜单切换按钮。
 $(function(){
     $(".right_arrow").attr("vi",$(".p-precondition ul li").length+$(".p_progress ul li").length);
 });
</script>

<!--手机图片放大【结束】-->
<script src="./机场登机问讯处_files/main.js"></script>
<!-- 1.25 add end-->
<script type="text/javascript">
//由于没有找到样式中的代码所以在此用js添加
$(".cursor_zoom ").css("max-width","94%");
</script>


</body></html>